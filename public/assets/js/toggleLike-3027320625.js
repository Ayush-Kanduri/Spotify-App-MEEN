class Like{constructor(t){this.toggler=t,this.toggleLike(this.toggler)}toggleLike(t){const e=this;t.addEventListener("click",(async t=>{t.preventDefault(),t.stopPropagation();const o=t.target;let a=o.getAttribute("data-likes");const i=o.getAttribute("data-url"),s=await e.fetchData(i,"POST");"error"!==s.response&&(e.notify(s.message,s.response),e.configureLike(s.data.liked,a,o))}))}async fetchData(t,e,o={}){const a=await fetch(t,{method:e,body:o});return await a.json()}notify(t,e){new Noty({theme:"metroui",text:t,type:e,layout:"topRight",timeout:3e3}).show()}configureLike(t,e,o){o.getAttribute("data-liked")?o.parentElement.remove():(t&&(o.style.color="#1ed15e"),t&&e++,t||(o.style.color="#fff"),t||e--,o.setAttribute("data-likes",e))}}try{for(let t of document.getElementsByClassName("toggle-like-button")){new Like(t)}}catch(t){console.log(t)}
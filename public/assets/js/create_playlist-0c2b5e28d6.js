class CreatePlaylist{constructor(){this.form=document.getElementById("create_playlist"),this.thumbnail=document.getElementsByClassName("playlistPoster")[0],this.info=document.getElementsByClassName("body__infoText")[0],this.poster=document.getElementsByClassName("playlistPoster")[0],this.songs=document.getElementsByClassName("songRow"),this.createPlaylist()}createPlaylist(){this.form.addEventListener("submit",(async t=>{t.preventDefault(),t.stopPropagation();let e=t.target,o=new FormData(e);const s=o.get("name");if(""===s||null==s||" "===s)return void new Noty({theme:"metroui",text:"Please enter a name for the playlist",type:"error",layout:"topRight",timeout:3e3}).show();if(o.getAll("songs").length<=1)new Noty({theme:"metroui",text:"Please select at least 2 songs",type:"error",layout:"topRight",timeout:3e3}).show();else try{const t="/playlists/create-playlist",e=await fetch(t,{method:"POST",body:o}),s=await e.json();console.log(s);let l=s.playlist._id.toString();window.location.href=`/playlists/custom/${l}`}catch(t){return console.log(t),void new Noty({theme:"metroui",text:t.message,type:"error",layout:"topRight",timeout:3e3}).show()}}))}}try{new CreatePlaylist}catch(t){console.log(t)}try{(()=>{const t=document.querySelector(".playlistPoster"),e=document.querySelector(".playlist_nameInput"),o=document.querySelector(".playlist_name");o.onclick=t=>{t.target.classList.toggle("active"),e.classList.toggle("active"),e.focus();const o=e.value.length;e.setSelectionRange(o,o)},e.onkeypress=t=>{"Enter"===t.key&&(t.target.classList.toggle("active"),o.classList.toggle("active"),o.textContent="",o.textContent=t.target.value)},e.onchange=t=>{t.target.classList.toggle("active"),o.classList.toggle("active"),o.textContent="",o.textContent=t.target.value,t.target.blur()},t.onchange=t=>{}})()}catch(t){}try{(()=>{const t=document.querySelector(".header__right"),e=document.querySelector(".dropdown_menu");t.onclick=()=>{e.classList.toggle("active")}})()}catch(t){console.log(t)}try{const t=t=>{const e=document.querySelector(".sidebar");t.matches?e.style.display="none":e.style.display="initial"};(()=>{const e=window.matchMedia("(max-width: 700px)");t(e),e.addEventListener("change",t)})()}catch(t){console.log(t)}